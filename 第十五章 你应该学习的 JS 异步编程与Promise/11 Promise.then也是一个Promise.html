<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>11 Promise.thenä¹Ÿæ˜¯ä¸€ä¸ªPromise</title>
  </head>
  <body>
    <div>
      setTimeoutä¹Ÿæ˜¯å¼‚æ­¥æ“ä½œå¹¶ä¸”æ˜¯å®ä»»åŠ¡ æ˜¯æ™šäºå¾®ä»»åŠ¡çš„ æ‰€ä»¥å½“å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•å
      å®šæ—¶å™¨çš„p2å°±å˜æˆäº†fulfilled
    </div>
  </body>
  <script>
    let p1 = new Promise((resolve, reject) => {
      //resolve('this is p1 resolve')
      reject('reject promise')
    })
    let p2 = p1
      .then(
        (value) => {
          console.log('value=', value)
        },
        (error) => {
          console.log('error=', error)
        },
      )
      .then(
        (value2) => console.log('value2', value2), //å› ä¸ºç¬¬ä¸€ä¸ªthenå†…éƒ¨ç›¸å½“äºåœ¨æ‰§è¡Œå®Œä»£ç ä»¥åï¼Œç›´æ¥resolve(undefined),æ‰€ä»¥ç¬¬äºŒä¸ª.thenä¹Ÿä¼šè¢«æ‰§è¡Œ
        (error2) => console.log('error2', error2),
      )

    /*
    console.log('p1= ', p1) //PromiseÂ {<fulfilled>: 'this is p1 resolve'}
    console.log('ğŸš€ ~ p2', p2) //PromiseÂ {<pending>}*/

    setTimeout(() => {
      console.log('p1=', p1) // PromiseÂ {<fulfilled>: 'this is p1 resolve'}
      console.log('ğŸš€ ~ p2', p2) //PromiseÂ {<fulfilled>: undefined}
    })
  </script>
</html>
