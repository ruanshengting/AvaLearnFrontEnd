<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>14 使用Promise封装AJAX异步请求</title>
  </head>
  <body></body>
  <script src="ajax.js"></script>
  <script>
    let url = 'http://localhost:4000/user/playlist?uid=32953014'
    ajax(url).then(
      (res) => {
        console.log('res=', res)
        ajax(
          `http://localhost:4000/playlist/detail?id=${res.playlist[0].id}`,
        ).then((res2) => console.log(res2))
      },
      (reason) => console.log('reason', reason),
    )
  </script>
</html>
