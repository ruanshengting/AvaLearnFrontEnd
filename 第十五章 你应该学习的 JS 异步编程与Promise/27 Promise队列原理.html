<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>27 Promiseé˜Ÿåˆ—åŸç†</title>
  </head>
  <body></body>
  <script>
    let promise = Promise.resolve('OK')
    //å†™æ³•1:æ²¡æœ‰æ’é˜Ÿçš„æ•ˆæœ
    /*
    promise
      .then((result) => {
        console.log('ğŸš€ 1~ file: promise.then ~ result', result)
        return new Promise((resolve) => {
          setTimeout(() => {
            console.log('ç¬¬ä¸€ä¸ªPromise')
          }, 1000)
          resolve('ç¬¬ä¸€ä¸ªPromiseå®Œæˆ') //å¦‚æœä¸åŠ è¿™å¥è¯ï¼Œç¬¬äºŒä¸ª.thenå› ä¸ºè¦ä¸€ç›´ç­‰å¾…è¿™ä¸ªpromiseçš„å›åº”ï¼Œç¬¬äºŒä¸ª.thenå°±ä¸€ç›´ä¸ä¼šæ‰§è¡Œ
        })
      })
      .then((result) => {
        console.log('ğŸš€ 2~ file: ç¬¬äºŒä¸ªpromiseæ˜¯å¯¹ä¸Šä¸€ä¸ªpromiseçš„å¤„ç†', result)
        return new Promise((resolve) => {
          setTimeout(() => {
            console.log('ç¬¬2ä¸ªPromise')
          }, 1000)
          resolve('ç¬¬2ä¸ªPromiseå®Œæˆ') //å¦‚æœä¸åŠ è¿™å¥è¯ï¼Œç¬¬äºŒä¸ª.thenå› ä¸ºè¦ä¸€ç›´ç­‰å¾…è¿™ä¸ªpromiseçš„å›åº”ï¼Œç¬¬äºŒä¸ª.thenå°±ä¸€ç›´ä¸ä¼šæ‰§è¡Œ
        })
      })
      .then((result) => {
        console.log('ğŸš€ 3~ file: ç¬¬3ä¸ªpromiseæ˜¯å¯¹ä¸Šä¸€ä¸ªpromiseçš„å¤„ç†', result)
      })
    */
    //å†™æ³•2:ç»™è¿™äº›promiseæ’é˜Ÿ
    promise = promise.then((result) => {
      console.log('ğŸš€ 1~ file: ç¬¬1ä¸ªpromise result', result)
      return new Promise((resolve) => {
        setTimeout(() => {
          console.log('ç¬¬ä¸€ä¸ªPromise')
          resolve(
            'ç¬¬ä¸€ä¸ªPromiseå®Œæˆ,resolveè¦å†™åœ¨setTimeouté‡Œé¢ï¼Œå¦åˆ™è¿˜æ²¡æœ‰å¼€å§‹setTimeoutï¼Œè¿™ä¸ªpromiseå°±å·²ç»è¢«è§£å†³äº†',
          )
        }, 1000)
      })
    })
    promise = promise.then((result) => {
      console.log('ğŸš€ 2~ file: ç¬¬äºŒä¸ªpromise result', result)
      return new Promise((resolve) => {
        setTimeout(() => {
          console.log('ç¬¬2ä¸ªPromise')
          resolve('ç¬¬2ä¸ªPromiseå®Œæˆ')
        }, 2000)
      })
    })
    promise = promise.then((result) => {
      console.log('ğŸš€ 3~ file: ç¬¬3ä¸ªpromiseæ˜¯å¯¹ä¸Šä¸€ä¸ªpromiseçš„å¤„ç†', result)
    })
  </script>
</html>
